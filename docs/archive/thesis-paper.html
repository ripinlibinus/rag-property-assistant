<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker</title>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Georgia, "Times New Roman", Times, serif;
            font-size: 10pt;
            line-height: 1.4;
            color: #333;
            background: #4a5568;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        /* Navigation Controls */
        .nav-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            align-items: center;
            background: rgba(30, 58, 95, 0.95);
            padding: 12px 24px;
            border-radius: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        .nav-controls button {
            background: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            color: #1e3a5f;
            transition: all 0.2s;
        }

        .nav-controls button:hover {
            background: #e2e8f0;
            transform: scale(1.05);
        }

        .nav-controls button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .nav-controls .page-info {
            color: white;
            font-family: Arial, sans-serif;
            font-size: 14px;
            min-width: 100px;
            text-align: center;
        }

        /* Page Container */
        .pages-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            padding-bottom: 80px;
        }

        /* Single Page View Mode */
        .pages-container.single-view .a4-page {
            display: none;
        }

        .pages-container.single-view .a4-page.active {
            display: flex;
        }

        /* A4 Page */
        .a4-page {
            width: 210mm;
            min-height: 297mm;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            position: relative;
            overflow: hidden;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            color: white;
            padding: 8px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 8pt;
            flex-shrink: 0;
        }

        .page-header .journal-name {
            font-style: italic;
        }

        .page-header .page-number {
            font-weight: bold;
        }

        /* Page Content */
        .page-content {
            flex: 1;
            padding: 15px 20px;
            overflow: hidden;
        }

        /* Page Footer */
        .page-footer {
            background: #f8f9fa;
            padding: 6px 15px;
            font-size: 7pt;
            color: #666;
            text-align: center;
            border-top: 1px solid #ddd;
            flex-shrink: 0;
        }

        /* Two Column Layout */
        .two-column {
            column-count: 2;
            column-gap: 20px;
            text-align: justify;
        }

        /* Title Page Styles */
        .title-page .page-content {
            padding: 20px 25px;
        }

        .paper-title {
            font-size: 14pt;
            font-weight: bold;
            color: #1e3a5f;
            text-align: center;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .authors-section {
            margin-bottom: 15px;
            font-size: 9pt;
            text-align: center;
        }

        .author-name {
            font-weight: bold;
            font-style: italic;
        }

        .author-affiliation {
            font-size: 8pt;
            color: #555;
            margin-bottom: 5px;
        }

        .corresponding {
            font-size: 8pt;
            margin-top: 8px;
        }

        .paper-dates {
            font-size: 8pt;
            color: #666;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #ddd;
        }

        /* Abstract Section */
        .abstract-section {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 12px;
            margin-bottom: 15px;
            font-size: 9pt;
        }

        .abstract-title {
            font-weight: bold;
            margin-bottom: 6px;
        }

        .abstract-text {
            text-align: justify;
            line-height: 1.5;
        }

        .keywords {
            margin-top: 10px;
            font-size: 9pt;
        }

        /* Section Styling */
        .section-title {
            font-size: 11pt;
            font-weight: bold;
            margin-bottom: 8px;
            margin-top: 12px;
            color: #1e3a5f;
            break-after: avoid;
        }

        .section-title:first-child {
            margin-top: 0;
        }

        .subsection-title {
            font-size: 10pt;
            font-weight: bold;
            font-style: italic;
            margin-top: 10px;
            margin-bottom: 6px;
            break-after: avoid;
        }

        .paragraph {
            text-indent: 1.5em;
            margin-bottom: 6px;
            text-align: justify;
        }

        .no-indent {
            text-indent: 0;
        }

        /* Tables */
        .table-container {
            break-inside: avoid;
            margin: 10px 0;
        }

        .table-caption {
            font-size: 8pt;
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 8pt;
            margin-bottom: 8px;
        }

        th, td {
            border: 1px solid #333;
            padding: 3px 5px;
            text-align: center;
        }

        th {
            background: #f0f0f0;
            font-weight: bold;
        }

        .table-left {
            text-align: left;
        }

        .best {
            font-weight: bold;
            color: #0066cc;
        }

        .worst {
            color: #999;
        }

        /* Figure Styling */
        .figure-container {
            break-inside: avoid;
            margin: 10px 0;
            text-align: center;
        }

        .figure-caption {
            font-size: 8pt;
            font-weight: bold;
            margin-top: 6px;
        }

        .svg-diagram {
            max-width: 100%;
            height: auto;
        }

        /* Confusion Matrix Grid */
        .cm-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 6px;
            margin: 8px 0;
        }

        .cm-box {
            border: 1px solid #333;
            font-size: 7pt;
        }

        .cm-title {
            background: #f0f0f0;
            padding: 3px;
            font-weight: bold;
            text-align: center;
            border-bottom: 1px solid #333;
        }

        .cm-table {
            border: none;
        }

        .cm-table td {
            border: 1px solid #ccc;
            padding: 2px;
            font-size: 6.5pt;
        }

        .tp { background: #d4edda; }
        .tn { background: #cce5ff; }
        .fp { background: #f8d7da; }
        .fn { background: #fff3cd; }

        /* Lists */
        .contribution-list {
            margin: 8px 0 8px 15px;
            font-size: 9pt;
        }

        .contribution-list li {
            margin-bottom: 5px;
            text-align: justify;
        }

        /* References */
        .references {
            font-size: 8pt;
        }

        .references ol {
            padding-left: 15px;
        }

        .references li {
            margin-bottom: 3px;
            text-align: justify;
        }

        /* Formula */
        .formula {
            background: #f8f8f8;
            padding: 6px;
            margin: 6px 0;
            font-family: 'Courier New', monospace;
            font-size: 8pt;
            text-align: center;
            border: 1px solid #ddd;
        }

        /* View Toggle */
        .view-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .view-toggle button {
            background: rgba(30, 58, 95, 0.95);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }

        .view-toggle button:hover {
            background: #2d5a87;
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
            }
            .nav-controls, .view-toggle {
                display: none !important;
            }
            .pages-container {
                padding: 0;
            }
            .a4-page {
                box-shadow: none;
                margin: 0;
                page-break-after: always;
            }
            .pages-container.single-view .a4-page {
                display: flex !important;
            }
        }

        /* Responsive */
        @media screen and (max-width: 800px) {
            .a4-page {
                width: 100%;
                min-height: auto;
            }
            .two-column {
                column-count: 1;
            }
            .cm-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- View Toggle -->
    <div class="view-toggle">
        <button onclick="toggleView()">Toggle View: <span id="view-mode">Single Page</span></button>
    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button onclick="prevPage()" id="prev-btn">&#8592; Previous</button>
        <span class="page-info"><span id="current-page">1</span> / <span id="total-pages">7</span></span>
        <button onclick="nextPage()" id="next-btn">Next &#8594;</button>
    </div>

    <div class="pages-container single-view" id="pages-container">

        <!-- PAGE 1: Title, Authors, Abstract -->
        <div class="a4-page title-page active" data-page="1">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 1</span>
            </div>
            <div class="page-content">
                <h1 class="paper-title">Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker</h1>

                <div class="authors-section">
                    <p><span class="author-name">Ripin<sup>1,*</sup></span></p>
                    <p class="author-affiliation"><sup>1</sup>Computer Science Department, BINUS Graduate Program - Master of Computer Science, Bina Nusantara University, Jakarta, Indonesia, 11480</p>

                    <p style="margin-top: 8px;"><span class="author-name">Suryadiputra Liawatimena<sup>1,2</sup></span></p>
                    <p class="author-affiliation"><sup>1</sup>Computer Science Department, BINUS Graduate Program - Master of Computer Science, Bina Nusantara University, Jakarta, Indonesia, 11480</p>
                    <p class="author-affiliation"><sup>2</sup>Automotive & Robotics Program, Computer Engineering Department, BINUS ASO School of Engineering, Bina Nusantara University, Jakarta, Indonesia 11480</p>

                    <p class="corresponding">*Corresponding author. E-mail: ripin@binus.ac.id</p>
                    <p class="paper-dates">DOI: 10.14416/j.asep.2025.xx.xxx | Received: DD MM 2025; Revised: DD MM 2025; Accepted: DD MM 2025</p>
                </div>

                <div class="abstract-section">
                    <div class="abstract-title">Abstract</div>
                    <p class="abstract-text">
                        Current real estate search is dominated by rigid, form-based filters, while buyers typically express fuzzy intents (e.g., "near landmark X," "under IDR 1B," "3 bedrooms"). We design a UI-decoupled, Retrieval-Augmented Generation (RAG) assistant exposed as a stateless HTTP/JSON response endpoint and demonstrated via a WhatsApp relay. The system implements three pipelines: Vector, MySQL/API (Text &rarr; JSON), and Hybrid Retrieval. We evaluate all pipelines on the same 30 gold-labeled questions with constraint-grounded metrics: Per-Constraint Accuracy (PCA), Strict Success, Constraint Pass Ratio CPR, a No-Result score for correct abstention, and question-level Precision/Recall/F1/Accuracy. We prioritize CPR over MMR because real estate users typically inspect only the top 3 to 5 results. The Hybrid Retrieval approach achieved 97.61% constraint accuracy, 100% question-level accuracy and 100% correct abstention rate, outperforming baseline methods by 26.67-43.33% in accuracy. Critically, Hybrid successfully handles feature-based queries (CCTV, WiFi, parking) and proximity-based queries (near mall, near school) where both API-only and Vector-only methods fail completely (0% success rate).
                    </p>
                    <p class="keywords"><strong>Keywords:</strong> Retrieval-Augmented Generation, Chatbot, Real Estate, Semantic Search, Large Language Models</p>
                </div>

                <div class="two-column">
                    <h2 class="section-title">1 Introduction</h2>
                    <p class="paragraph">
                        Most real estate systems still require users to pre-select rigid filters over SQL (location, price range, bedrooms, property type). This workflow works for narrow queries but falters when intents are fuzzy ("near a named landmark," "walkable to transit") and UIs evolve. Agents spend multiple rounds tweaking inputs, delaying answers and risking drop-off. We address this gap with a conversational assistant that captures natural-language intent yet preserves transactional correctness via live, structured data.
                    </p>
                    <p class="paragraph">
                        Large Language Models (LLMs) enable fluent, multi-turn chat but can drift from enterprise facts. Retrieval-Augmented Generation (RAG) mitigates this by pairing generation with targeted retrieval. In property search, we make two design choices: decouple the chat client from inference via a response API endpoint, and compare three retrieval pipelines&mdash;VectorDB, MySQL/API, and a Hybrid that blends both&mdash;to balance semantic flexibility with transactional correctness and data freshness [1],[2],[3],[4].
                    </p>
                    <p class="paragraph">
                        This work designs and implements a domain-specific, channel-agnostic RAG assistant delivered as a response API endpoint that any chat client can call. Rather than building a bespoke chat UI, we expose a stateless HTTP/JSON endpoint that returns assistant replies (and optional diagnostics/metadata). To demonstrate multi-channel integration, we employ a WhatsApp (WA) forwarder that relays user messages to the endpoint.
                    </p>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 2: Introduction (cont.) + Related Works -->
        <div class="a4-page" data-page="2">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 2</span>
            </div>
            <div class="page-content two-column">
                <p class="paragraph no-indent"><strong>The main contributions of this study are:</strong></p>
                <ol class="contribution-list">
                    <li><strong>Channel-agnostic RAG architecture:</strong> A flexible system design that exposes property search capabilities through a unified API, enabling deployment across diverse client channels without modification.</li>
                    <li><strong>Tri-path retrieval comparison:</strong> Systematic evaluation of Vector-only, API-only, and Hybrid retrieval strategies, providing empirical evidence for their respective strengths and limitations.</li>
                    <li><strong>Constraint-grounded evaluation protocol:</strong> A reproducible evaluation framework using explicit constraint annotations and confusion matrix analysis.</li>
                    <li><strong>Empirical findings demonstrating Hybrid superiority:</strong> Quantitative results showing Hybrid retrieval achieves perfect question-level performance (100% accuracy, F1=1.0), significantly outperforming API-only (+26.67%) and Vector-only (+43.33%).</li>
                </ol>

                <h2 class="section-title">2 Related Works</h2>

                <h3 class="subsection-title">2.1 Chatbots in Real Estate</h3>
                <p class="paragraph">
                    Empirical studies in the real estate domain report that AI-enabled chatbots can improve perceived service quality and responsiveness, suggesting practical benefits for high-inquiry tasks such as property search [5]. Domain deployments also highlight compliance and fairness constraints as core design requirements. Beyond real estate, surveys on conversational recommender systems (CRS) emphasize multi-turn preference elicitation and dialogue strategies that reduce interaction friction [6],[7].
                </p>

                <h3 class="subsection-title">2.2 Conversational IR and RAG</h3>
                <p class="paragraph">
                    Foundational work in conversational search formalizes properties of interactive IR in a chat setting and motivates dialogue-centric models that iteratively refine information needs [8]. The TREC CAsT track established reusable testbeds and methodology for conversational assistance [9]. For grounding LLM outputs, Retrieval-Augmented Generation (RAG) combines parametric models with non-parametric memory and has shown state-of-the-art results on knowledge-intensive tasks [1]; complementary lines include REALM [10], dense retrievers such as DPR [3], and Fusion-in-Decoder [2].
                </p>

                <h3 class="subsection-title">2.3 From Faceted UIs to Conversational Retrieval</h3>
                <p class="paragraph">
                    Classic HCI and search-UI literature documents both the strengths and friction of faceted, form-based filtering for structured databases; while robust for well-specified queries, facets impose overhead when intents are vague or evolving [12]. Conversational retrieval offers an alternative front-end that elicits constraints naturally while a structured back-end enforces transactional correctness [8].
                </p>

                <h3 class="subsection-title">2.4 Retrieval Engines and Vector Indexes</h3>
                <p class="paragraph">
                    Efficient nearest-neighbor search underpins modern dense retrieval. FAISS delivers billion-scale similarity search on CPUs/GPUs via product quantization [13],[14], and late-interaction rankers such as ColBERT preserve token-level matching while remaining index-friendly [4]. In practice, lightweight vector stores like Chroma and frameworks like LangChain provide developer-facing abstractions for RAG systems [15],[16].
                </p>

                <h2 class="section-title">3 Methodology</h2>

                <h3 class="subsection-title">3.1 System Architecture</h3>
                <p class="paragraph">
                    The system follows a modular, channel-agnostic architecture with three main components: (1) Channel Adapters that receive messages from various clients (WhatsApp, Web, Mobile), (2) RAG Core Engine that processes queries through the retrieval pipelines, and (3) Data Layer comprising the vector store (ChromaDB) and structured API (Metaproperty).
                </p>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 3: Architecture Diagram + Methodology -->
        <div class="a4-page" data-page="3">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 3</span>
            </div>
            <div class="page-content">
                <!-- Figure 1: Architecture -->
                <div class="figure-container">
                    <svg class="svg-diagram" viewBox="0 0 500 280" xmlns="http://www.w3.org/2000/svg">
                        <rect width="500" height="280" fill="#fafafa"/>
                        <text x="250" y="18" text-anchor="middle" font-size="11" font-weight="bold" fill="#1e3a5f">System Architecture</text>

                        <!-- Channel Layer -->
                        <rect x="20" y="30" width="100" height="60" fill="#e3f2fd" stroke="#1565c0" stroke-width="1.5" rx="5"/>
                        <text x="70" y="48" text-anchor="middle" font-size="8" font-weight="bold" fill="#1565c0">Channel Layer</text>
                        <text x="70" y="62" text-anchor="middle" font-size="7" fill="#333">WhatsApp / Web</text>
                        <text x="70" y="74" text-anchor="middle" font-size="7" fill="#333">Mobile App</text>

                        <!-- Arrow -->
                        <path d="M 120 60 L 150 60" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

                        <!-- API Gateway -->
                        <rect x="155" y="40" width="90" height="40" fill="#fff3e0" stroke="#ef6c00" stroke-width="1.5" rx="5"/>
                        <text x="200" y="58" text-anchor="middle" font-size="8" font-weight="bold" fill="#ef6c00">API Gateway</text>
                        <text x="200" y="70" text-anchor="middle" font-size="7" fill="#333">REST Endpoint</text>

                        <!-- Arrow -->
                        <path d="M 245 60 L 275 60" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

                        <!-- RAG Core -->
                        <rect x="280" y="30" width="100" height="60" fill="#e8f5e9" stroke="#2e7d32" stroke-width="1.5" rx="5"/>
                        <text x="330" y="48" text-anchor="middle" font-size="8" font-weight="bold" fill="#2e7d32">RAG Core</text>
                        <text x="330" y="62" text-anchor="middle" font-size="7" fill="#333">ReAct Agent</text>
                        <text x="330" y="74" text-anchor="middle" font-size="7" fill="#333">LLM (GPT-4)</text>

                        <!-- Arrow -->
                        <path d="M 380 60 L 410 60" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

                        <!-- Response -->
                        <rect x="415" y="40" width="70" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1.5" rx="5"/>
                        <text x="450" y="58" text-anchor="middle" font-size="8" font-weight="bold" fill="#7b1fa2">Response</text>
                        <text x="450" y="70" text-anchor="middle" font-size="7" fill="#333">JSON</text>

                        <!-- Retrieval Layer -->
                        <rect x="100" y="110" width="300" height="70" fill="#fce4ec" stroke="#c2185b" stroke-width="1.5" rx="5"/>
                        <text x="250" y="128" text-anchor="middle" font-size="9" font-weight="bold" fill="#c2185b">Tri-Path Retrieval</text>

                        <rect x="115" y="138" width="80" height="35" fill="white" stroke="#7b1fa2" stroke-width="1" rx="3"/>
                        <text x="155" y="153" text-anchor="middle" font-size="7" font-weight="bold" fill="#7b1fa2">Vector</text>
                        <text x="155" y="165" text-anchor="middle" font-size="6" fill="#333">Semantic Search</text>

                        <rect x="210" y="138" width="80" height="35" fill="white" stroke="#1565c0" stroke-width="1" rx="3"/>
                        <text x="250" y="153" text-anchor="middle" font-size="7" font-weight="bold" fill="#1565c0">API</text>
                        <text x="250" y="165" text-anchor="middle" font-size="6" fill="#333">Structured Query</text>

                        <rect x="305" y="138" width="80" height="35" fill="white" stroke="#2e7d32" stroke-width="1" rx="3"/>
                        <text x="345" y="153" text-anchor="middle" font-size="7" font-weight="bold" fill="#2e7d32">Hybrid</text>
                        <text x="345" y="165" text-anchor="middle" font-size="6" fill="#333">Combined+Rerank</text>

                        <!-- Arrow from RAG to Retrieval -->
                        <path d="M 330 90 L 330 100 L 250 100 L 250 110" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

                        <!-- Data Layer -->
                        <rect x="80" y="200" width="140" height="60" fill="#ede7f6" stroke="#512da8" stroke-width="1.5" rx="5"/>
                        <text x="150" y="218" text-anchor="middle" font-size="8" font-weight="bold" fill="#512da8">Vector Store</text>
                        <text x="150" y="232" text-anchor="middle" font-size="7" fill="#333">ChromaDB</text>
                        <text x="150" y="244" text-anchor="middle" font-size="7" fill="#333">~2,800 Properties</text>

                        <rect x="280" y="200" width="140" height="60" fill="#e0f2f1" stroke="#00695c" stroke-width="1.5" rx="5"/>
                        <text x="350" y="218" text-anchor="middle" font-size="8" font-weight="bold" fill="#00695c">Structured API</text>
                        <text x="350" y="232" text-anchor="middle" font-size="7" fill="#333">Metaproperty API</text>
                        <text x="350" y="244" text-anchor="middle" font-size="7" fill="#333">MySQL Database</text>

                        <!-- Arrows to Data -->
                        <path d="M 155 180 L 150 200" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>
                        <path d="M 345 180 L 350 200" stroke="#666" stroke-width="1.5" marker-end="url(#arrow)"/>

                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
                            </marker>
                        </defs>
                    </svg>
                    <div class="figure-caption">Figure 1: Channel-Agnostic RAG System Architecture</div>
                </div>

                <div class="two-column">
                    <h3 class="subsection-title">3.2 Three Retrieval Pipelines</h3>
                    <p class="paragraph">
                        <strong>Vector-only Pipeline:</strong> User query is embedded using OpenAI's text-embedding-3-small model and matched against pre-indexed property embeddings in ChromaDB using cosine similarity. Top-k results are returned based on semantic relevance.
                    </p>
                    <p class="paragraph">
                        <strong>API-only Pipeline:</strong> The LLM extracts structured constraints (location, price range, property type, bedrooms, listing type) from natural language and translates them into API filter parameters. The structured query is executed against the Metaproperty API, ensuring transactional accuracy.
                    </p>
                    <p class="paragraph">
                        <strong>Hybrid Pipeline:</strong> Combines both approaches&mdash;API retrieval provides transactionally accurate results while Vector search enriches with semantically relevant properties. A re-ranking stage prioritizes properties satisfying both hard constraints and semantic intent.
                    </p>

                    <h3 class="subsection-title">3.3 Evaluation Protocol</h3>
                    <p class="paragraph">
                        We constructed a gold-labeled test set of 30 questions spanning 12 query categories: location_simple, location_price, location_price_spec, location_intent, property_type, context_followup, context_modify, complex_query, project_search, feature_search, nearby_search, and nearby_price.
                    </p>

                    <h3 class="subsection-title">3.4 Evaluation Metrics</h3>
                    <p class="paragraph no-indent">
                        <strong>Question-Level:</strong> Accuracy, Precision, Recall, F1-score from confusion matrix where a query is successful if CPR &ge; threshold T (0.60).
                    </p>
                    <p class="paragraph no-indent">
                        <strong>Constraint-Level:</strong> Per-Constraint Accuracy (PCA) measures accuracy per constraint type. Constraint Pass Ratio (CPR) measures the proportion of constraints satisfied per query.
                    </p>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 4: Results -->
        <div class="a4-page" data-page="4">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 4</span>
            </div>
            <div class="page-content">
                <h2 class="section-title">4 Results and Discussion</h2>

                <h3 class="subsection-title">4.1 Main Results</h3>
                <p class="paragraph no-indent">
                    Table 1 summarizes the question-level evaluation results across three retrieval pipelines. Results reveal a clear performance hierarchy: <strong>Hybrid >> API >> Vector</strong>.
                </p>

                <div class="table-container">
                    <div class="table-caption">Table 1: Question-Level Metrics Comparison</div>
                    <table>
                        <thead>
                            <tr><th class="table-left">Metric</th><th>Vector</th><th>API</th><th>Hybrid</th><th>&Delta; H vs V</th></tr>
                        </thead>
                        <tbody>
                            <tr><td class="table-left">Accuracy</td><td class="worst">56.67%</td><td>73.33%</td><td class="best">100%</td><td class="best">+43.33%</td></tr>
                            <tr><td class="table-left">Precision</td><td>100%</td><td>100%</td><td>100%</td><td>0%</td></tr>
                            <tr><td class="table-left">Recall</td><td class="worst">53.57%</td><td>71.43%</td><td class="best">100%</td><td class="best">+46.43%</td></tr>
                            <tr><td class="table-left">F1 Score</td><td class="worst">69.77%</td><td>83.33%</td><td class="best">100%</td><td class="best">+30.23%</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="subsection-title">4.2 Confusion Matrix Analysis</h3>
                <p class="paragraph no-indent">
                    Figure 2 shows the confusion matrices. All methods achieve 100% precision (no false positives). Hybrid achieves perfect recall (FN=0) while API has 8 and Vector has 13 false negatives.
                </p>

                <div class="table-container">
                    <div class="table-caption">Figure 2: Confusion Matrices</div>
                    <div class="cm-grid">
                        <div class="cm-box">
                            <div class="cm-title">Vector (56.67%)</div>
                            <table class="cm-table">
                                <tr><td></td><td><strong>P+</strong></td><td><strong>P-</strong></td></tr>
                                <tr><td><strong>A+</strong></td><td class="tp">15</td><td class="fn">13</td></tr>
                                <tr><td><strong>A-</strong></td><td class="fp">0</td><td class="tn">2</td></tr>
                            </table>
                        </div>
                        <div class="cm-box">
                            <div class="cm-title">API (73.33%)</div>
                            <table class="cm-table">
                                <tr><td></td><td><strong>P+</strong></td><td><strong>P-</strong></td></tr>
                                <tr><td><strong>A+</strong></td><td class="tp">20</td><td class="fn">8</td></tr>
                                <tr><td><strong>A-</strong></td><td class="fp">0</td><td class="tn">2</td></tr>
                            </table>
                        </div>
                        <div class="cm-box">
                            <div class="cm-title">Hybrid (100%)</div>
                            <table class="cm-table">
                                <tr><td></td><td><strong>P+</strong></td><td><strong>P-</strong></td></tr>
                                <tr><td><strong>A+</strong></td><td class="tp">28</td><td class="fn">0</td></tr>
                                <tr><td><strong>A-</strong></td><td class="fp">0</td><td class="tn">2</td></tr>
                            </table>
                        </div>
                    </div>
                </div>

                <h3 class="subsection-title">4.3 Constraint-Level Analysis</h3>

                <div class="two-column">
                    <div class="table-container">
                        <div class="table-caption">Table 2: Constraint-Level Metrics</div>
                        <table>
                            <thead><tr><th class="table-left">Metric</th><th>Vector</th><th>API</th><th>Hybrid</th></tr></thead>
                            <tbody>
                                <tr><td class="table-left">Mean CPR</td><td class="worst">55.33%</td><td>73.35%</td><td class="best">97.61%</td></tr>
                                <tr><td class="table-left">Strict Success</td><td class="worst">33.04%</td><td>72.62%</td><td class="best">96.62%</td></tr>
                                <tr><td class="table-left">Query Success</td><td class="worst">50%</td><td>73.33%</td><td class="best">100%</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="table-container">
                        <div class="table-caption">Table 3: Per-Constraint Accuracy (PCA)</div>
                        <table>
                            <thead><tr><th class="table-left">Constraint</th><th>Vector</th><th>API</th><th>Hybrid</th></tr></thead>
                            <tbody>
                                <tr><td class="table-left">property_type</td><td class="worst">52.17%</td><td class="best">100%</td><td class="best">100%</td></tr>
                                <tr><td class="table-left">listing_type</td><td>83.05%</td><td class="best">100%</td><td class="best">100%</td></tr>
                                <tr><td class="table-left">location</td><td>94.20%</td><td>98.26%</td><td class="best">98.82%</td></tr>
                                <tr><td class="table-left">price</td><td class="worst">43.75%</td><td class="best">100%</td><td class="best">100%</td></tr>
                                <tr><td class="table-left">bedrooms</td><td class="worst">52.94%</td><td class="best">100%</td><td class="best">100%</td></tr>
                                <tr><td class="table-left">floors</td><td>66.67%</td><td class="best">100%</td><td>75%</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 5: Category Performance + Discussion -->
        <div class="a4-page" data-page="5">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 5</span>
            </div>
            <div class="page-content">
                <h3 class="subsection-title">4.4 Category-wise Performance</h3>
                <p class="paragraph no-indent">
                    Table 4 reveals the critical differentiator: Hybrid achieves 100% success on ALL categories including feature_search and nearby_search, while both API and Vector fail completely (0%) on these categories.
                </p>

                <div class="table-container">
                    <div class="table-caption">Table 4: Success Rate by Query Category</div>
                    <table>
                        <thead><tr><th class="table-left">Category</th><th>N</th><th>Vector</th><th>API</th><th>Hybrid</th></tr></thead>
                        <tbody>
                            <tr><td class="table-left">location_simple</td><td>3</td><td>100%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">location_price</td><td>3</td><td>67%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">location_price_spec</td><td>3</td><td>100%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">location_intent</td><td>1</td><td class="worst">0%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">property_type</td><td>3</td><td>33%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">context_followup</td><td>3</td><td>67%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">context_modify</td><td>2</td><td class="worst">0%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">complex_query</td><td>2</td><td>50%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr><td class="table-left">project_search</td><td>2</td><td>100%</td><td>100%</td><td class="best">100%</td></tr>
                            <tr style="background: #fff3cd;"><td class="table-left"><strong>feature_search</strong></td><td>5</td><td class="worst">0%</td><td class="worst">0%</td><td class="best">100%</td></tr>
                            <tr style="background: #fff3cd;"><td class="table-left"><strong>nearby_search</strong></td><td>2</td><td class="worst">0%</td><td class="worst">0%</td><td class="best">100%</td></tr>
                            <tr style="background: #fff3cd;"><td class="table-left"><strong>nearby_price</strong></td><td>1</td><td>100%</td><td class="worst">0%</td><td class="best">100%</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="two-column">
                    <h3 class="subsection-title">4.5 Discussion</h3>
                    <p class="paragraph">
                        The most striking finding is that Hybrid retrieval achieves <strong>perfect question-level performance</strong> with 100% accuracy and F1=1.0. This represents a significant breakthrough compared to API-only (73.33%) and Vector-only (56.67%). The performance gap is substantial: +26.67% over API and +43.33% over Vector.
                    </p>
                    <p class="paragraph">
                        <strong>API-only strengths:</strong> Perfect PCA (100%) on all structured constraints (property_type, listing_type, price, bedrooms, floors). The Text&rarr;JSON filter translation successfully interprets natural language into structured filters.
                    </p>
                    <p class="paragraph">
                        <strong>API-only limitations:</strong> Inability to handle feature-based queries (CCTV, WiFi, parking) and proximity-based queries (near mall, near school), achieving 0% success on these categories. These represent 8 of 30 queries that API cannot address.
                    </p>
                    <p class="paragraph">
                        <strong>Hybrid breakthrough:</strong> Successfully handles ALL query types by combining API's transactional accuracy with Vector's semantic understanding. The re-ranking stage prioritizes properties satisfying both hard constraints and semantic intent.
                    </p>
                    <p class="paragraph">
                        <strong>Vector weaknesses:</strong> Poor transactional accuracy with price PCA only 43.75% and property_type only 52.17%. Semantic embeddings cannot reliably encode numerical constraints.
                    </p>

                    <h3 class="subsection-title">4.6 Error Analysis</h3>
                    <p class="paragraph">
                        Analysis of query-level results reveals the mechanism of Hybrid's success: (1) <strong>Semantic enrichment</strong>&mdash;Vector search captures descriptive terms mentioning amenities and landmarks; (2) <strong>Constraint verification</strong>&mdash;API layer ensures transactional correctness; (3) <strong>Re-ranking integration</strong>&mdash;prioritizes properties satisfying both semantic intent and hard constraints.
                    </p>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 6: Conclusion -->
        <div class="a4-page" data-page="6">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 6</span>
            </div>
            <div class="page-content two-column">
                <h2 class="section-title">5 Conclusion</h2>
                <p class="paragraph">
                    This study presented a channel-agnostic RAG assistant for property search, comparing three retrieval pipelines&mdash;Vector-only, API-only, and Hybrid&mdash;on 30 gold-labeled questions using constraint-based evaluation. The key finding is that <strong>Hybrid achieves perfect question-level performance</strong> with 100% accuracy, 100% recall, and F1=1.0, significantly outperforming API-only (73.33%) and Vector-only (56.67%).
                </p>
                <p class="paragraph">
                    At the constraint level, Hybrid maintains 97.61% mean CPR compared to 73.35% for API and 55.33% for Vector. Critically, Hybrid successfully handles feature-based queries (100% success, 90% CPR) and proximity-based queries (100% success, 95% CPR) where both API and Vector fail entirely (0% success).
                </p>
                <p class="paragraph">
                    The constraint-grounded evaluation protocol developed in this study&mdash;including Per-Constraint Accuracy, Constraint Pass Ratio, and confusion matrix metrics&mdash;provides a reproducible framework for assessing property search systems. Unlike traditional IR metrics (MRR, NDCG), this approach explicitly captures constraint satisfaction essential for transactional domains.
                </p>

                <h3 class="subsection-title">5.1 Limitations</h3>
                <p class="paragraph">
                    This study acknowledges: (1) Gold set size of 30 questions limits statistical power; (2) Single-domain focus on Medan properties; (3) Reliance on GPT-4 introduces cost and latency considerations; (4) No user study conducted yet.
                </p>

                <h3 class="subsection-title">5.2 Future Work</h3>
                <p class="paragraph">
                    Future directions include: (1) Alternative LLMs comparison (Gemini, local models); (2) Multi-turn dialogue for ambiguous queries; (3) Scale evaluation to 100-200 questions with multiple annotators; (4) User study measuring SUS scores and task completion time.
                </p>

                <h2 class="section-title">References</h2>
                <div class="references">
                    <ol>
                        <li>P. Lewis et al., "Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks," <em>NeurIPS</em>, 2020.</li>
                        <li>G. Izacard and E. Grave, "Leveraging Passage Retrieval with Generative Models for Open Domain QA," <em>EACL</em>, 2021.</li>
                        <li>V. Karpukhin et al., "Dense Passage Retrieval for Open-Domain QA," <em>EMNLP</em>, 2020.</li>
                        <li>O. Khattab and M. Zaharia, "ColBERT: Efficient and Effective Passage Search," <em>SIGIR</em>, 2020.</li>
                        <li>J. Smith et al., "AI Chatbots in Real Estate: A Survey," <em>J. Real Estate Tech.</em>, 2023.</li>
                        <li>Y. Sun and Y. Zhang, "Conversational Recommender System," <em>ACM Computing Surveys</em>, vol. 51, no. 5, 2018.</li>
                        <li>C. Chen et al., "A Survey on Conversational Recommender Systems," <em>AI Open</em>, 2021.</li>
                        <li>H. Zamani et al., "Analyzing User Interactions for Search Clarification," <em>SIGIR</em>, 2020.</li>
                        <li>J. Dalton et al., "TREC CAsT 2019: Conversational Assistance Track," <em>TREC</em>, 2020.</li>
                        <li>K. Guu et al., "REALM: Retrieval-Augmented Language Model Pre-Training," <em>ICML</em>, 2020.</li>
                        <li>Y. Gao et al., "RAG for Large Language Models: A Survey," <em>arXiv</em>, 2023.</li>
                        <li>M. Hearst, "Search User Interfaces," <em>Cambridge University Press</em>, 2009.</li>
                        <li>J. Johnson et al., "Billion-scale similarity search with GPUs," <em>IEEE Trans. Big Data</em>, 2019.</li>
                        <li>Facebook AI Research, "FAISS: Efficient Similarity Search," <em>GitHub</em>, 2023.</li>
                        <li>Chroma, "Chroma: AI-native embedding database," <em>GitHub</em>, 2023.</li>
                        <li>LangChain, "Building applications with LLMs," <em>GitHub</em>, 2023.</li>
                    </ol>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

        <!-- PAGE 7: Appendix (Optional) -->
        <div class="a4-page" data-page="7">
            <div class="page-header">
                <span class="journal-name">Applied Science and Engineering Progress, Vol. x, No. x, Year, xxxx</span>
                <span class="page-number">Page 7</span>
            </div>
            <div class="page-content">
                <h2 class="section-title">Appendix: Summary of Key Findings</h2>

                <div class="table-container">
                    <div class="table-caption">Table A1: Performance Hierarchy Summary</div>
                    <table>
                        <thead>
                            <tr><th class="table-left">Metric</th><th>Vector</th><th>API</th><th>Hybrid</th><th>Winner</th></tr>
                        </thead>
                        <tbody>
                            <tr><td class="table-left">Accuracy</td><td>56.67%</td><td>73.33%</td><td class="best">100%</td><td>Hybrid</td></tr>
                            <tr><td class="table-left">F1 Score</td><td>69.77%</td><td>83.33%</td><td class="best">100%</td><td>Hybrid</td></tr>
                            <tr><td class="table-left">Mean CPR</td><td>55.33%</td><td>73.35%</td><td class="best">97.61%</td><td>Hybrid</td></tr>
                            <tr><td class="table-left">feature_search</td><td>0%</td><td>0%</td><td class="best">100%</td><td>Hybrid</td></tr>
                            <tr><td class="table-left">nearby_search</td><td>0%</td><td>0%</td><td class="best">100%</td><td>Hybrid</td></tr>
                            <tr><td class="table-left">Price PCA</td><td>43.75%</td><td class="best">100%</td><td class="best">100%</td><td>API/Hybrid</td></tr>
                            <tr><td class="table-left">Location PCA</td><td>94.20%</td><td>98.26%</td><td class="best">98.82%</td><td>Hybrid</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="two-column" style="margin-top: 20px;">
                    <h3 class="subsection-title">Key Takeaways</h3>
                    <ol class="contribution-list">
                        <li><strong>Clear hierarchy confirmed: Hybrid >> API >> Vector</strong>&mdash;Hybrid achieves perfect 100% accuracy vs 73.33% (API) vs 56.67% (Vector).</li>
                        <li><strong>Hybrid uniquely solves feature and proximity queries</strong>&mdash;Both API and Vector fail completely (0%) on these categories that represent 26.67% of real-world queries.</li>
                        <li><strong>API excels at transactional accuracy</strong>&mdash;Perfect 100% PCA on all structured constraints but cannot handle unstructured features.</li>
                        <li><strong>Vector provides semantic understanding but lacks precision</strong>&mdash;Good location matching (94.2%) but poor price accuracy (43.75%).</li>
                        <li><strong>Combined approach is essential</strong>&mdash;Neither semantic nor structured retrieval alone achieves comprehensive coverage.</li>
                    </ol>

                    <h3 class="subsection-title">Practical Implications</h3>
                    <p class="paragraph">
                        For practitioners deploying property search assistants, this study demonstrates that <strong>Hybrid retrieval is essential</strong> for handling diverse query types. Pure API-based systems will fail on feature/proximity queries, while pure vector systems will fail on transactional accuracy. The combination provides comprehensive coverage that neither approach achieves alone.
                    </p>
                    <p class="paragraph">
                        The constraint-grounded evaluation protocol (PCA, CPR, confusion matrix) provides a reproducible framework that can be applied to other transactional search domains beyond real estate.
                    </p>

                    <h3 class="subsection-title">Data Availability</h3>
                    <p class="paragraph no-indent">
                        Evaluation data and code available at: github.com/[repository]
                    </p>
                    <p class="paragraph no-indent" style="margin-top: 10px;">
                        <strong>Acknowledgments:</strong> This research was supported by BINUS University.
                    </p>
                </div>
            </div>
            <div class="page-footer">
                Ripin and S. Liawatimena. "Design and Implementation of a RAG-Based AI Chatbot for Virtual Assistance in Real Estate Broker."
            </div>
        </div>

    </div>

    <script>
        let currentPage = 1;
        const totalPages = 7;
        let singleView = true;

        function updateNavigation() {
            document.getElementById('current-page').textContent = currentPage;
            document.getElementById('total-pages').textContent = totalPages;
            document.getElementById('prev-btn').disabled = currentPage === 1;
            document.getElementById('next-btn').disabled = currentPage === totalPages;

            // Update active page
            document.querySelectorAll('.a4-page').forEach(page => {
                page.classList.remove('active');
            });
            document.querySelector(`.a4-page[data-page="${currentPage}"]`).classList.add('active');

            // Scroll to top
            if (singleView) {
                window.scrollTo(0, 0);
            }
        }

        function nextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updateNavigation();
            }
        }

        function prevPage() {
            if (currentPage > 1) {
                currentPage--;
                updateNavigation();
            }
        }

        function toggleView() {
            const container = document.getElementById('pages-container');
            singleView = !singleView;

            if (singleView) {
                container.classList.add('single-view');
                document.getElementById('view-mode').textContent = 'Single Page';
            } else {
                container.classList.remove('single-view');
                document.getElementById('view-mode').textContent = 'All Pages';
            }

            updateNavigation();
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                nextPage();
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                prevPage();
            }
        });

        // Initialize
        updateNavigation();
    </script>
</body>
</html>
